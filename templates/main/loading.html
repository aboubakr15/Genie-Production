<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
    <div class="loading-content">
        <!-- Default folder animation -->
        <div class="folder-upload-animation" id="folderAnimation">
            <div class="folder-icon"></div>
            <div class="floating-file"></div>
            <div class="floating-file"></div>
            <div class="floating-file"></div>
            <div class="floating-file"></div>
        </div>
        
        <!-- Alternative spinner animation -->
        <div class="spinner-animation" id="spinnerAnimation" style="display: none;"></div>
        
        <!-- Alternative pulse animation -->
        <div class="pulse-animation" id="pulseAnimation" style="display: none;"></div>
    </div>
    
    <div class="upload-progress">
        <div class="upload-progress-bar"></div>
    </div>
    
    <div class="loading-text" id="loadingText">Processing<span class="loading-dots"></span></div>
    <div class="loading-subtext" id="loadingSubtext">Please wait while we process your request...</div>
</div>

<script>
    // Global Loading Manager
    window.LoadingManager = {
        overlay: null,
        loadingText: null,
        loadingSubtext: null,
        
        init: function() {
            this.overlay = document.getElementById('loadingOverlay');
            this.loadingText = document.getElementById('loadingText');
            this.loadingSubtext = document.getElementById('loadingSubtext');
        },
        
        show: function(options = {}) {
            if (!this.overlay) this.init();
            
            // Set custom text if provided
            if (options.text) {
                this.loadingText.innerHTML = options.text + '<span class="loading-dots"></span>';
            }
            if (options.subtext) {
                this.loadingSubtext.textContent = options.subtext;
            }
            
            // Set animation type
            this.setAnimation(options.animation || 'folder');
            
            // Show overlay
            this.overlay.classList.add('show');
        },
        
        hide: function() {
            if (this.overlay) {
                this.overlay.classList.remove('show');
            }
        },
        
        setAnimation: function(type) {
            const animations = ['folderAnimation', 'spinnerAnimation', 'pulseAnimation'];
            
            // Hide all animations
            animations.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.style.display = 'none';
            });
            
            // Show selected animation
            let selectedAnimation = 'folderAnimation'; // default
            if (type === 'spinner') selectedAnimation = 'spinnerAnimation';
            if (type === 'pulse') selectedAnimation = 'pulseAnimation';
            
            const element = document.getElementById(selectedAnimation);
            if (element) element.style.display = 'block';
        }
    };
    
    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
        LoadingManager.init();
    });
</script>